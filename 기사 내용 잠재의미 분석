{"cells":[{"cell_type":"markdown","metadata":{"id":"NF7i8kDcUH3V"},"source":["## ■ 잠재 의미 분석"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":12496,"status":"ok","timestamp":1655468293987,"user":{"displayName":"­임재랑(자연과학대학 물리학과)","userId":"14255770025949310751"},"user_tz":-540},"id":"8kZz98f2UH3b","outputId":"93bcbb76-12e7-4e98-c18e-2f034e4673ec"},"outputs":[{"output_type":"stream","name":"stdout","text":["Reading package lists... Done\n","Building dependency tree       \n","Reading state information... Done\n","The following package was automatically installed and is no longer required:\n","  libnvidia-common-460\n","Use 'sudo apt autoremove' to remove it.\n","The following NEW packages will be installed:\n","  fonts-nanum\n","0 upgraded, 1 newly installed, 0 to remove and 49 not upgraded.\n","Need to get 9,604 kB of archives.\n","After this operation, 29.5 MB of additional disk space will be used.\n","Get:1 http://archive.ubuntu.com/ubuntu bionic/universe amd64 fonts-nanum all 20170925-1 [9,604 kB]\n","Fetched 9,604 kB in 1s (8,850 kB/s)\n","debconf: unable to initialize frontend: Dialog\n","debconf: (No usable dialog-like program is installed, so the dialog based frontend cannot be used. at /usr/share/perl5/Debconf/FrontEnd/Dialog.pm line 76, <> line 1.)\n","debconf: falling back to frontend: Readline\n","debconf: unable to initialize frontend: Readline\n","debconf: (This frontend requires a controlling tty.)\n","debconf: falling back to frontend: Teletype\n","dpkg-preconfigure: unable to re-open stdin: \n","Selecting previously unselected package fonts-nanum.\n","(Reading database ... 155639 files and directories currently installed.)\n","Preparing to unpack .../fonts-nanum_20170925-1_all.deb ...\n","Unpacking fonts-nanum (20170925-1) ...\n","Setting up fonts-nanum (20170925-1) ...\n","Processing triggers for fontconfig (2.12.6-0ubuntu2) ...\n","/usr/share/fonts: caching, new cache contents: 0 fonts, 1 dirs\n","/usr/share/fonts/truetype: caching, new cache contents: 0 fonts, 3 dirs\n","/usr/share/fonts/truetype/humor-sans: caching, new cache contents: 1 fonts, 0 dirs\n","/usr/share/fonts/truetype/liberation: caching, new cache contents: 16 fonts, 0 dirs\n","/usr/share/fonts/truetype/nanum: caching, new cache contents: 10 fonts, 0 dirs\n","/usr/local/share/fonts: caching, new cache contents: 0 fonts, 0 dirs\n","/root/.local/share/fonts: skipping, no such directory\n","/root/.fonts: skipping, no such directory\n","/var/cache/fontconfig: cleaning cache directory\n","/root/.cache/fontconfig: not cleaning non-existent cache directory\n","/root/.fontconfig: not cleaning non-existent cache directory\n","fc-cache: succeeded\n"]}],"source":["# (1) 나눔폰트 설치 하기  =====================================\n","# sudo : 운영자 권한으로 명령어를 실행하라는 의미 \n","# apt-get (Advanced Packaging Tool) : 패키지 관리 tool  \n","\n","\n","!sudo apt-get install -y fonts-nanum    \n","!sudo fc-cache -fv                      \n","!rm ~/.cache/matplotlib -rf     "]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":6,"status":"ok","timestamp":1655468308847,"user":{"displayName":"­임재랑(자연과학대학 물리학과)","userId":"14255770025949310751"},"user_tz":-540},"id":"Lspnmm_UUH3e","outputId":"8dcc7296-b5f9-41a3-f34b-10a4a86d5ce6"},"outputs":[{"output_type":"stream","name":"stdout","text":["◎ matplotlib version :  3.2.2\n","\n"]},{"output_type":"execute_result","data":{"text/plain":["['/usr/share/fonts/truetype/nanum/NanumGothicBold.ttf',\n"," '/usr/share/fonts/truetype/nanum/NanumMyeongjoBold.ttf',\n"," '/usr/share/fonts/truetype/nanum/NanumBarunGothic.ttf',\n"," '/usr/share/fonts/truetype/nanum/NanumGothic.ttf',\n"," '/usr/share/fonts/truetype/nanum/NanumBarunGothicBold.ttf',\n"," '/usr/share/fonts/truetype/nanum/NanumSquareRoundR.ttf',\n"," '/usr/share/fonts/truetype/nanum/NanumSquareRoundB.ttf',\n"," '/usr/share/fonts/truetype/nanum/NanumMyeongjo.ttf',\n"," '/usr/share/fonts/truetype/nanum/NanumSquareB.ttf',\n"," '/usr/share/fonts/truetype/nanum/NanumSquareR.ttf']"]},"metadata":{},"execution_count":1}],"source":["# (2) 나눔폰트 설치 확인 하기  ==================================\n","\n","import  matplotlib \n","import  matplotlib.font_manager  as fm\n","import  matplotlib.pyplot  as plt\n","\n","\n","print('◎ matplotlib version : ', matplotlib.__version__)\n","print()\n","\n","\n","sys_font  = fm.findSystemFonts ( )\n","\n","[ font  for  font  in  sys_font  if  \"Nanum\"  in font ]\n"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":464,"status":"ok","timestamp":1655468310550,"user":{"displayName":"­임재랑(자연과학대학 물리학과)","userId":"14255770025949310751"},"user_tz":-540},"id":"ykbw6xlnUH3f","outputId":"983d30f6-a789-46d2-dc9d-9614b1ddd7d5"},"outputs":[{"output_type":"stream","name":"stdout","text":["◎ 폰트 이름 :  NanumGothic\n"]}],"source":["# (3) 나눔폰트 설정 하기  ==================================\n","#\n","#\n","# font_path = '/usr/share/fonts/truetype/nanum/NanumMyeongjo.ttf' \n","\n","font_path = \"/usr/share/fonts/truetype/nanum/NanumGothicBold.ttf\"\n","\n","font_name  = fm.FontProperties(fname=font_path, size=12).get_name( )\n","\n","print(\"◎ 폰트 이름 : \",font_name)\n","\n","plt.rc(\"font\", family= font_name)       # Nanum 폰트 세팅 \n","\n","fm._rebuild( )                   # 새롭게 세팅된 font를 적용 \n"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":10209,"status":"ok","timestamp":1655468322355,"user":{"displayName":"­임재랑(자연과학대학 물리학과)","userId":"14255770025949310751"},"user_tz":-540},"id":"2T-6srojUH3h","outputId":"810d02de-2f33-41ee-ce9c-c2bd84806f8a"},"outputs":[{"output_type":"stream","name":"stdout","text":["Looking in indexes: https://pypi.org/simple, https://us-python.pkg.dev/colab-wheels/public/simple/\n","Collecting konlpy\n","  Downloading konlpy-0.6.0-py2.py3-none-any.whl (19.4 MB)\n","\u001b[K     |████████████████████████████████| 19.4 MB 1.7 MB/s \n","\u001b[?25hRequirement already satisfied: lxml>=4.1.0 in /usr/local/lib/python3.7/dist-packages (from konlpy) (4.2.6)\n","Collecting JPype1>=0.7.0\n","  Downloading JPype1-1.4.0-cp37-cp37m-manylinux_2_5_x86_64.manylinux1_x86_64.whl (453 kB)\n","\u001b[K     |████████████████████████████████| 453 kB 42.4 MB/s \n","\u001b[?25hRequirement already satisfied: numpy>=1.6 in /usr/local/lib/python3.7/dist-packages (from konlpy) (1.21.6)\n","Requirement already satisfied: typing-extensions in /usr/local/lib/python3.7/dist-packages (from JPype1>=0.7.0->konlpy) (4.2.0)\n","Installing collected packages: JPype1, konlpy\n","Successfully installed JPype1-1.4.0 konlpy-0.6.0\n"]}],"source":["!pip install konlpy\n"]},{"cell_type":"code","execution_count":null,"metadata":{"id":"O-EsEkScUH3i"},"outputs":[],"source":["## 기본\n","import numpy as np                    # numpy 패키지 가져오기\n","import pandas as pd                   # pandas 패키지 가져오기\n","import matplotlib.pyplot as plt       # 시각화 패키지 가져오기\n","\n","import seaborn as sns\n","\n","\n","from konlpy.tag import Okt\n","from wordcloud  import WordCloud\n","\n","import time\n","import datetime\n","\n","\n","# sklearn 패기지 \n","\n","from sklearn.feature_extraction.text import CountVectorizer\n","from sklearn.feature_extraction.text import TfidfVectorizer\n","\n","from sklearn.decomposition import TruncatedSVD \n","\n","\n","import warnings\n","warnings.filterwarnings('ignore')"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":19553,"status":"ok","timestamp":1655468343540,"user":{"displayName":"­임재랑(자연과학대학 물리학과)","userId":"14255770025949310751"},"user_tz":-540},"id":"YkqD7EvsUH3j","outputId":"7cbb02d1-ac38-4576-c80a-7b2af328c45a"},"outputs":[{"output_type":"stream","name":"stdout","text":["Mounted at /content/gdrive/\n"]}],"source":["from google.colab import drive \n","drive.mount('/content/gdrive/')\n"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":3016,"status":"ok","timestamp":1655468346546,"user":{"displayName":"­임재랑(자연과학대학 물리학과)","userId":"14255770025949310751"},"user_tz":-540},"id":"rZRTg28LUH3k","outputId":"eb85bb1e-e538-472a-ec7d-036132199fb4"},"outputs":[{"output_type":"execute_result","data":{"text/plain":["(139, 4)"]},"metadata":{},"execution_count":6}],"source":["okt = Okt()\n","\n","def tokenizer(text):\n","    nouns = okt.nouns(text)\n","    return [noun for noun in nouns if len(noun) > 1]\n","\n","# 데이터 불러오기\n","\n","topnews = pd.read_csv(\"/content/gdrive/My Drive/Colab Notebooks/웹과텍스트마이닝기말프로젝트/줌_뉴스_SF 영화_20200101_20220601.csv\")\n","\n","topnews.shape\n"]},{"cell_type":"code","source":["okt = Okt()\n","\n","def tokenizer(text):\n","    nouns = okt.nouns(text)\n","    return [noun for noun in nouns if len(noun) > 1]\n","\n","# 데이터 불러오기\n","\n","topnews_old = pd.read_csv(\"/content/gdrive/My Drive/Colab Notebooks/웹과텍스트마이닝기말프로젝트/줌_뉴스_SF 영화_20100101_20120601.csv\")\n","\n","topnews_old.shape"],"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"id":"qr5eb9BkmkYJ","executionInfo":{"status":"ok","timestamp":1655468370236,"user_tz":-540,"elapsed":473,"user":{"displayName":"­임재랑(자연과학대학 물리학과)","userId":"14255770025949310751"}},"outputId":"1c444674-b8b7-41fd-d4aa-137cb3391f3f"},"execution_count":null,"outputs":[{"output_type":"execute_result","data":{"text/plain":["(170, 4)"]},"metadata":{},"execution_count":7}]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/","height":337},"executionInfo":{"elapsed":399,"status":"ok","timestamp":1655468376160,"user":{"displayName":"­임재랑(자연과학대학 물리학과)","userId":"14255770025949310751"},"user_tz":-540},"id":"6SF6wjUUUH3l","outputId":"a2afea4f-21dd-4c3f-bdaa-12dc0e6e977a"},"outputs":[{"output_type":"execute_result","data":{"text/plain":["                                               Title    Datetime  \\\n","0  우리가 그리는 우주의 미래…'한국형 SF 영화·드라마'를 기다리며 [이종민의 콘텐츠...  2022.06.01   \n","1  \"이거 SF 영화에서 봤던건데\"...이통3사 '하늘 나는 차' 상용화 도전장    ...  2022.05.31   \n","2  '李 김포공항 이전' 연일 공격…與 \"SF영화?\" \"못먹어도 고?\"         ...  2022.05.30   \n","3  강수연 유작 '정이'에 관심…연상호 연출 SF 영화                  ...  2022.05.08   \n","4  강수연이 남긴 마지막 작품은 ‘정이’…연상호 감독 SF 영화             ...  2022.05.07   \n","\n","                                             Article   Link  \n","0     미래를 예측하는 가장 확실한 방법은 스스로 미래를 만드는 것이겠지만 상상력이 ...   한국경제  \n","1                                                ...  머니투데이  \n","2     이준석, \"김포→인천 10분?…탄도미사일 타고갈 것?\" 박대출 \"서울→제주 K...   이데일리  \n","3    / 출처: 넷플릭스 배우 강수연이 7일 세상을 떠난 가운데, 그의 마지막 작품 ...   TV조선  \n","4    영화배우 강수연씨가 7일 별세했다. 고인은 지난 5일 서울 강남구 압구정동 자택...   서울신문  "],"text/html":["\n","  <div id=\"df-c8f7af9d-1137-4598-b993-47c301af8269\">\n","    <div class=\"colab-df-container\">\n","      <div>\n","<style scoped>\n","    .dataframe tbody tr th:only-of-type {\n","        vertical-align: middle;\n","    }\n","\n","    .dataframe tbody tr th {\n","        vertical-align: top;\n","    }\n","\n","    .dataframe thead th {\n","        text-align: right;\n","    }\n","</style>\n","<table border=\"1\" class=\"dataframe\">\n","  <thead>\n","    <tr style=\"text-align: right;\">\n","      <th></th>\n","      <th>Title</th>\n","      <th>Datetime</th>\n","      <th>Article</th>\n","      <th>Link</th>\n","    </tr>\n","  </thead>\n","  <tbody>\n","    <tr>\n","      <th>0</th>\n","      <td>우리가 그리는 우주의 미래…'한국형 SF 영화·드라마'를 기다리며 [이종민의 콘텐츠...</td>\n","      <td>2022.06.01</td>\n","      <td>미래를 예측하는 가장 확실한 방법은 스스로 미래를 만드는 것이겠지만 상상력이 ...</td>\n","      <td>한국경제</td>\n","    </tr>\n","    <tr>\n","      <th>1</th>\n","      <td>\"이거 SF 영화에서 봤던건데\"...이통3사 '하늘 나는 차' 상용화 도전장    ...</td>\n","      <td>2022.05.31</td>\n","      <td>...</td>\n","      <td>머니투데이</td>\n","    </tr>\n","    <tr>\n","      <th>2</th>\n","      <td>'李 김포공항 이전' 연일 공격…與 \"SF영화?\" \"못먹어도 고?\"         ...</td>\n","      <td>2022.05.30</td>\n","      <td>이준석, \"김포→인천 10분?…탄도미사일 타고갈 것?\" 박대출 \"서울→제주 K...</td>\n","      <td>이데일리</td>\n","    </tr>\n","    <tr>\n","      <th>3</th>\n","      <td>강수연 유작 '정이'에 관심…연상호 연출 SF 영화                  ...</td>\n","      <td>2022.05.08</td>\n","      <td>/ 출처: 넷플릭스 배우 강수연이 7일 세상을 떠난 가운데, 그의 마지막 작품 ...</td>\n","      <td>TV조선</td>\n","    </tr>\n","    <tr>\n","      <th>4</th>\n","      <td>강수연이 남긴 마지막 작품은 ‘정이’…연상호 감독 SF 영화             ...</td>\n","      <td>2022.05.07</td>\n","      <td>영화배우 강수연씨가 7일 별세했다. 고인은 지난 5일 서울 강남구 압구정동 자택...</td>\n","      <td>서울신문</td>\n","    </tr>\n","  </tbody>\n","</table>\n","</div>\n","      <button class=\"colab-df-convert\" onclick=\"convertToInteractive('df-c8f7af9d-1137-4598-b993-47c301af8269')\"\n","              title=\"Convert this dataframe to an interactive table.\"\n","              style=\"display:none;\">\n","        \n","  <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\"viewBox=\"0 0 24 24\"\n","       width=\"24px\">\n","    <path d=\"M0 0h24v24H0V0z\" fill=\"none\"/>\n","    <path d=\"M18.56 5.44l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94zm-11 1L8.5 8.5l.94-2.06 2.06-.94-2.06-.94L8.5 2.5l-.94 2.06-2.06.94zm10 10l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94z\"/><path d=\"M17.41 7.96l-1.37-1.37c-.4-.4-.92-.59-1.43-.59-.52 0-1.04.2-1.43.59L10.3 9.45l-7.72 7.72c-.78.78-.78 2.05 0 2.83L4 21.41c.39.39.9.59 1.41.59.51 0 1.02-.2 1.41-.59l7.78-7.78 2.81-2.81c.8-.78.8-2.07 0-2.86zM5.41 20L4 18.59l7.72-7.72 1.47 1.35L5.41 20z\"/>\n","  </svg>\n","      </button>\n","      \n","  <style>\n","    .colab-df-container {\n","      display:flex;\n","      flex-wrap:wrap;\n","      gap: 12px;\n","    }\n","\n","    .colab-df-convert {\n","      background-color: #E8F0FE;\n","      border: none;\n","      border-radius: 50%;\n","      cursor: pointer;\n","      display: none;\n","      fill: #1967D2;\n","      height: 32px;\n","      padding: 0 0 0 0;\n","      width: 32px;\n","    }\n","\n","    .colab-df-convert:hover {\n","      background-color: #E2EBFA;\n","      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n","      fill: #174EA6;\n","    }\n","\n","    [theme=dark] .colab-df-convert {\n","      background-color: #3B4455;\n","      fill: #D2E3FC;\n","    }\n","\n","    [theme=dark] .colab-df-convert:hover {\n","      background-color: #434B5C;\n","      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n","      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n","      fill: #FFFFFF;\n","    }\n","  </style>\n","\n","      <script>\n","        const buttonEl =\n","          document.querySelector('#df-c8f7af9d-1137-4598-b993-47c301af8269 button.colab-df-convert');\n","        buttonEl.style.display =\n","          google.colab.kernel.accessAllowed ? 'block' : 'none';\n","\n","        async function convertToInteractive(key) {\n","          const element = document.querySelector('#df-c8f7af9d-1137-4598-b993-47c301af8269');\n","          const dataTable =\n","            await google.colab.kernel.invokeFunction('convertToInteractive',\n","                                                     [key], {});\n","          if (!dataTable) return;\n","\n","          const docLinkHtml = 'Like what you see? Visit the ' +\n","            '<a target=\"_blank\" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'\n","            + ' to learn more about interactive tables.';\n","          element.innerHTML = '';\n","          dataTable['output_type'] = 'display_data';\n","          await google.colab.output.renderOutput(dataTable, element);\n","          const docLink = document.createElement('div');\n","          docLink.innerHTML = docLinkHtml;\n","          element.appendChild(docLink);\n","        }\n","      </script>\n","    </div>\n","  </div>\n","  "]},"metadata":{},"execution_count":8}],"source":["topnews.head()\n"]},{"cell_type":"code","source":["topnews_old.head()"],"metadata":{"colab":{"base_uri":"https://localhost:8080/","height":337},"id":"Yzt9Xtjdmsit","executionInfo":{"status":"ok","timestamp":1655468385849,"user_tz":-540,"elapsed":319,"user":{"displayName":"­임재랑(자연과학대학 물리학과)","userId":"14255770025949310751"}},"outputId":"9a61f39c-ee53-491c-f82e-34f526291378"},"execution_count":null,"outputs":[{"output_type":"execute_result","data":{"text/plain":["                                               Title    Datetime  \\\n","0  환상적인 조개집 “실제 건축물이라고? SF영화 같다”                 ...  2012.01.01   \n","1  영화에 '우주'를 담으면 뜬다?..SF 영화 '흥행불패'               ...  2012.04.18   \n","2   [기획-2] SF영화같은 의료시뮬레이션 \"교육 효과는 현실적\"           ...  2012.04.09   \n","3  [영상] 뉴에프오, '바운스' 뮤비 공개 \"SF영화 같아\"              ...  2011.11.24   \n","4  2층 열차, 하늘 나는 배 … SF영화서 현실 속으로                 ...  2011.09.29   \n","\n","                                             Article    Link  \n","0    조개껍데기 모양의 건축물 사진이 누리꾼들을 놀라게 하고 있다.  조개껍데기 모양...    매일경제  \n","1     [OSEN=김경주 기자] 우주를 배경으로 했던 영화들이 모두 흥행에 성공하며 ...    OSEN  \n","2      서울의 A대학병원 분만실 앞. 한 산부인과 교수가 난처한 표정으로 서 있다....   라포르시안  \n","3     5인조 신인 걸그룹 뉴에프오(New.F.O)의 첫 번째 디지털 싱글 타이틀곡 ...  파이낸셜뉴스  \n","4                                                ...    중앙일보  "],"text/html":["\n","  <div id=\"df-0cf1c163-f2d6-4b64-bde1-1e0fb1cf8e22\">\n","    <div class=\"colab-df-container\">\n","      <div>\n","<style scoped>\n","    .dataframe tbody tr th:only-of-type {\n","        vertical-align: middle;\n","    }\n","\n","    .dataframe tbody tr th {\n","        vertical-align: top;\n","    }\n","\n","    .dataframe thead th {\n","        text-align: right;\n","    }\n","</style>\n","<table border=\"1\" class=\"dataframe\">\n","  <thead>\n","    <tr style=\"text-align: right;\">\n","      <th></th>\n","      <th>Title</th>\n","      <th>Datetime</th>\n","      <th>Article</th>\n","      <th>Link</th>\n","    </tr>\n","  </thead>\n","  <tbody>\n","    <tr>\n","      <th>0</th>\n","      <td>환상적인 조개집 “실제 건축물이라고? SF영화 같다”                 ...</td>\n","      <td>2012.01.01</td>\n","      <td>조개껍데기 모양의 건축물 사진이 누리꾼들을 놀라게 하고 있다.  조개껍데기 모양...</td>\n","      <td>매일경제</td>\n","    </tr>\n","    <tr>\n","      <th>1</th>\n","      <td>영화에 '우주'를 담으면 뜬다?..SF 영화 '흥행불패'               ...</td>\n","      <td>2012.04.18</td>\n","      <td>[OSEN=김경주 기자] 우주를 배경으로 했던 영화들이 모두 흥행에 성공하며 ...</td>\n","      <td>OSEN</td>\n","    </tr>\n","    <tr>\n","      <th>2</th>\n","      <td>[기획-2] SF영화같은 의료시뮬레이션 \"교육 효과는 현실적\"           ...</td>\n","      <td>2012.04.09</td>\n","      <td>서울의 A대학병원 분만실 앞. 한 산부인과 교수가 난처한 표정으로 서 있다....</td>\n","      <td>라포르시안</td>\n","    </tr>\n","    <tr>\n","      <th>3</th>\n","      <td>[영상] 뉴에프오, '바운스' 뮤비 공개 \"SF영화 같아\"              ...</td>\n","      <td>2011.11.24</td>\n","      <td>5인조 신인 걸그룹 뉴에프오(New.F.O)의 첫 번째 디지털 싱글 타이틀곡 ...</td>\n","      <td>파이낸셜뉴스</td>\n","    </tr>\n","    <tr>\n","      <th>4</th>\n","      <td>2층 열차, 하늘 나는 배 … SF영화서 현실 속으로                 ...</td>\n","      <td>2011.09.29</td>\n","      <td>...</td>\n","      <td>중앙일보</td>\n","    </tr>\n","  </tbody>\n","</table>\n","</div>\n","      <button class=\"colab-df-convert\" onclick=\"convertToInteractive('df-0cf1c163-f2d6-4b64-bde1-1e0fb1cf8e22')\"\n","              title=\"Convert this dataframe to an interactive table.\"\n","              style=\"display:none;\">\n","        \n","  <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\"viewBox=\"0 0 24 24\"\n","       width=\"24px\">\n","    <path d=\"M0 0h24v24H0V0z\" fill=\"none\"/>\n","    <path d=\"M18.56 5.44l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94zm-11 1L8.5 8.5l.94-2.06 2.06-.94-2.06-.94L8.5 2.5l-.94 2.06-2.06.94zm10 10l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94z\"/><path d=\"M17.41 7.96l-1.37-1.37c-.4-.4-.92-.59-1.43-.59-.52 0-1.04.2-1.43.59L10.3 9.45l-7.72 7.72c-.78.78-.78 2.05 0 2.83L4 21.41c.39.39.9.59 1.41.59.51 0 1.02-.2 1.41-.59l7.78-7.78 2.81-2.81c.8-.78.8-2.07 0-2.86zM5.41 20L4 18.59l7.72-7.72 1.47 1.35L5.41 20z\"/>\n","  </svg>\n","      </button>\n","      \n","  <style>\n","    .colab-df-container {\n","      display:flex;\n","      flex-wrap:wrap;\n","      gap: 12px;\n","    }\n","\n","    .colab-df-convert {\n","      background-color: #E8F0FE;\n","      border: none;\n","      border-radius: 50%;\n","      cursor: pointer;\n","      display: none;\n","      fill: #1967D2;\n","      height: 32px;\n","      padding: 0 0 0 0;\n","      width: 32px;\n","    }\n","\n","    .colab-df-convert:hover {\n","      background-color: #E2EBFA;\n","      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n","      fill: #174EA6;\n","    }\n","\n","    [theme=dark] .colab-df-convert {\n","      background-color: #3B4455;\n","      fill: #D2E3FC;\n","    }\n","\n","    [theme=dark] .colab-df-convert:hover {\n","      background-color: #434B5C;\n","      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n","      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n","      fill: #FFFFFF;\n","    }\n","  </style>\n","\n","      <script>\n","        const buttonEl =\n","          document.querySelector('#df-0cf1c163-f2d6-4b64-bde1-1e0fb1cf8e22 button.colab-df-convert');\n","        buttonEl.style.display =\n","          google.colab.kernel.accessAllowed ? 'block' : 'none';\n","\n","        async function convertToInteractive(key) {\n","          const element = document.querySelector('#df-0cf1c163-f2d6-4b64-bde1-1e0fb1cf8e22');\n","          const dataTable =\n","            await google.colab.kernel.invokeFunction('convertToInteractive',\n","                                                     [key], {});\n","          if (!dataTable) return;\n","\n","          const docLinkHtml = 'Like what you see? Visit the ' +\n","            '<a target=\"_blank\" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'\n","            + ' to learn more about interactive tables.';\n","          element.innerHTML = '';\n","          dataTable['output_type'] = 'display_data';\n","          await google.colab.output.renderOutput(dataTable, element);\n","          const docLink = document.createElement('div');\n","          docLink.innerHTML = docLinkHtml;\n","          element.appendChild(docLink);\n","        }\n","      </script>\n","    </div>\n","  </div>\n","  "]},"metadata":{},"execution_count":9}]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":518,"status":"ok","timestamp":1655468419634,"user":{"displayName":"­임재랑(자연과학대학 물리학과)","userId":"14255770025949310751"},"user_tz":-540},"id":"UD8BcT1KUH3m","outputId":"5da875d1-4b2f-48ce-e29a-0435a1e20340"},"outputs":[{"output_type":"stream","name":"stdout","text":["['한국경제' '머니투데이' '이데일리' 'TV조선' '서울신문' 'AI타임스' '동아일보' '엑스포츠뉴스' '뉴시스' '노컷뉴스'\n"," '매일경제' '지디넷코리아' '스타투데이' '조선일보' '오마이뉴스' 'OSEN' '서울경제' '팍스경제TV' '아시아경제'\n"," '연합뉴스' '아주경제' '연합뉴스TV' '스포츠투데이' '한국일보' '중앙일보' '더팩트' '아시아투데이' '파이낸셜뉴스'\n"," '이투데이' '뉴스핌' '세계일보' '헤럴드경제' 'IT동아' '아이뉴스24' '뉴스1' '텐아시아' 'YTN' '전자신문'\n"," '충청일보' 'SBS' '문화뉴스' '스포티비뉴스' 'TV리포트' 'CBC뉴스' '게임메카' 'MBN' '조선비즈' '인더뉴스'\n"," 'MBC' '뉴스웨이' '스타데일리뉴스']\n","\n","◎ 총 매체 수:  51\n","\n","\n","['매일경제' 'OSEN' '라포르시안' '파이낸셜뉴스' '중앙일보' '디지털데일리' '머니투데이' '조선일보' '경향신문'\n"," '뉴시스' '헤럴드경제' '전자신문' 'TV리포트' '이데일리' '서울신문' '아시아경제' '스타투데이' 'YTN' 'SBS'\n"," '게임동아' '시티라이프' '연합뉴스' 'IT동아' '게임메카' '마이데일리']\n","\n","◎ 총 매체 수:  25\n"]}],"source":["\n","print(topnews['Link'].unique())\n","print() \n","\n","print(\"◎ 총 매체 수: \", len(topnews['Link'].unique())) \n","\n","print() \n","print() \n","\n","print(topnews_old['Link'].unique())\n","print() \n","\n","print(\"◎ 총 매체 수: \", len(topnews_old['Link'].unique())) "]},{"cell_type":"code","execution_count":null,"metadata":{"id":"Br1SW7wyUH3n"},"outputs":[],"source":["vectorizer = TfidfVectorizer(tokenizer=tokenizer, \n","                              max_df=0.70,    # 문서빈도 상한선 (70% 가 넘는 문서에 출현하는 단어는 미고려)\n","                              min_df=10,       \n","                              max_features=1000)     "]},{"cell_type":"markdown","source":["# 최신 SF 영화 잠재의미 분석"],"metadata":{"id":"Wd0guES0nDaz"}},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":8625,"status":"ok","timestamp":1655468927812,"user":{"displayName":"­임재랑(자연과학대학 물리학과)","userId":"14255770025949310751"},"user_tz":-540},"id":"OnDBUJG5UH3o","outputId":"47b6ce8f-0d3d-481b-c7f5-9d8c5f72bece"},"outputs":[{"output_type":"stream","name":"stdout","text":["\n","▶ 수행 시간 =  0:00:08.195807\n"]}],"source":["# 뉴스의 내용을 위의 기준으로 하나의 instance 를 만듦 \n","\n","start = time.time()    # 시작 시간 기록 \n","\n","tfidf = vectorizer.fit_transform(topnews['Article']) \n","\n","processing_time = time.time() - start    # 경과 시간 계산  \n","times = str(datetime.timedelta(seconds = processing_time))  \n","print()   \n","print('▶ 수행 시간 = ', times)\n"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":30,"status":"ok","timestamp":1655468927813,"user":{"displayName":"­임재랑(자연과학대학 물리학과)","userId":"14255770025949310751"},"user_tz":-540},"id":"euyDqvZ5UH3o","outputId":"1883f390-a5cb-4218-ca04-2a83d400fb83"},"outputs":[{"output_type":"execute_result","data":{"text/plain":["(139, 407)"]},"metadata":{},"execution_count":37}],"source":["# TF-IDF 행렬의 크기 확인\n","\n","tfidf.shape\n"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":25,"status":"ok","timestamp":1655468927813,"user":{"displayName":"­임재랑(자연과학대학 물리학과)","userId":"14255770025949310751"},"user_tz":-540},"id":"j8NNdlxkUH3p","outputId":"dab9673c-f001-4b58-e789-6bb01494f8f5"},"outputs":[{"output_type":"stream","name":"stdout","text":["['가격' '가능성' '가상' '가상현실' '가운데' '가장' '가지' '각종' '감독' '강조' '개국' '개념' '개발' '개봉'\n"," '개인' '개최' '거래' '거리' '게임' '결정' '경우' '경쟁' '경제' '경험' '계획' '공간' '공감' '공개'\n"," '공상' '공식' '공유' '과거' '과정' '과학' '관객' '관계자' '관련' '관심' '구독' '구성' '구축' '구현'\n"," '국가' '국내' '국제' '규모' '그룹' '그린' '극장' '글로벌']\n"]}],"source":["\n","print(vectorizer.get_feature_names_out() [:50]) \n"]},{"cell_type":"code","execution_count":null,"metadata":{"id":"1iI3KQsVUH3p"},"outputs":[],"source":["\n","n_topics = 3\n","\n","svd_model = TruncatedSVD(n_components=n_topics, n_iter=50, random_state=1)\n","\n","tsvd_S = svd_model.fit_transform(tfidf)\n"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":16,"status":"ok","timestamp":1655468927814,"user":{"displayName":"­임재랑(자연과학대학 물리학과)","userId":"14255770025949310751"},"user_tz":-540},"id":"JXqaoq0-UH3p","outputId":"bd2c92ac-8ac6-44f7-feb2-15cbc4801c45"},"outputs":[{"output_type":"execute_result","data":{"text/plain":["(3, 407)"]},"metadata":{},"execution_count":41}],"source":["\n","VT = svd_model.components_  \n","\n","VT.shape\n"]},{"cell_type":"code","execution_count":null,"metadata":{"id":"_IGB66SqUH3r"},"outputs":[],"source":["\n","\n","terms = vectorizer.get_feature_names_out() \n","\n","\n","def get_topics(components, feature_names, n=10):\n","    for index, topic in enumerate(components):\n","        print(\"Topic %d:\" % (index), [(feature_names[i], topic[i].round(5)) for i in topic.argsort()[:-n-1:-1]])\n","\n","\n","get_topics(svd_model.components_, terms)\n"]},{"cell_type":"markdown","source":["# 10년 전 SF 영화 잠재의미 분석"],"metadata":{"id":"ZeIKk38qodkN"}},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":8511,"status":"ok","timestamp":1655468936315,"user":{"displayName":"­임재랑(자연과학대학 물리학과)","userId":"14255770025949310751"},"user_tz":-540},"outputId":"4d5cc10c-46c8-4cfd-fbb0-78f341a7ef1f","id":"46wAAsqLodkN"},"outputs":[{"output_type":"stream","name":"stdout","text":["\n","▶ 수행 시간 =  0:00:08.485507\n"]}],"source":["# 뉴스의 내용을 위의 기준으로 하나의 instance 를 만듦 \n","\n","start = time.time()    # 시작 시간 기록 \n","\n","tfidf = vectorizer.fit_transform(topnews_old['Article'])   \n","processing_time = time.time() - start    # 경과 시간 계산  \n","times = str(datetime.timedelta(seconds = processing_time))  \n","print()   \n","print('▶ 수행 시간 = ', times)\n"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":43,"status":"ok","timestamp":1655468936318,"user":{"displayName":"­임재랑(자연과학대학 물리학과)","userId":"14255770025949310751"},"user_tz":-540},"outputId":"a9d40d14-a408-4455-be89-ef5d5bb6348c","id":"843urR2ModkO"},"outputs":[{"output_type":"stream","name":"stdout","text":["['가능성' '가세' '가수' '가운데' '가장' '가족' '가지' '각본' '각종' '감독' '강남구' '강조' '개발' '개봉'\n"," '개인' '거의' '결정' '경쟁' '경제' '경향' '경험' '계획' '공간' '공개' '공동' '공식' '과거' '과정'\n"," '과학' '관객' '관객수' '관계자' '관련' '관심' '괴물' '교수' '구성' '국내' '규칙' '그룹' '그린' '기간'\n"," '기기' '기능' '기도' '기록' '기반' '기본' '기술' '기존']\n"]}],"source":["\n","\n","print(vectorizer.get_feature_names_out() [:50]) \n"]},{"cell_type":"code","execution_count":null,"metadata":{"id":"6BrhWH11odkO"},"outputs":[],"source":["\n","n_topics = 3\n","\n","svd_model = TruncatedSVD(n_components=n_topics, n_iter=50, random_state=1)\n","\n","tsvd_S = svd_model.fit_transform(tfidf)\n"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":39,"status":"ok","timestamp":1655468936319,"user":{"displayName":"­임재랑(자연과학대학 물리학과)","userId":"14255770025949310751"},"user_tz":-540},"outputId":"95519b9f-648f-459a-964e-ed68c1727352","id":"ZE0frzAgodkP"},"outputs":[{"output_type":"execute_result","data":{"text/plain":["(170, 3)"]},"metadata":{},"execution_count":47}],"source":["\n","tsvd_S.shape\n"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":36,"status":"ok","timestamp":1655468936319,"user":{"displayName":"­임재랑(자연과학대학 물리학과)","userId":"14255770025949310751"},"user_tz":-540},"outputId":"8f2f76c4-61e9-45cc-945e-772853c2abfe","id":"VNip_JyVodkP"},"outputs":[{"output_type":"execute_result","data":{"text/plain":["(3, 422)"]},"metadata":{},"execution_count":48}],"source":["\n","VT = svd_model.components_  \n","VT.shape\n"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":33,"status":"ok","timestamp":1655468936320,"user":{"displayName":"­임재랑(자연과학대학 물리학과)","userId":"14255770025949310751"},"user_tz":-540},"outputId":"dbb82e24-b53b-46ac-be55-ac7dc23b7d56","id":"EJ-tLRRaodkP"},"outputs":[{"output_type":"stream","name":"stdout","text":["Topic 0: [('감독', 0.30602), ('리포트', 0.19982), ('개봉', 0.15445), ('관객', 0.14861), ('멸망', 0.13754), ('영상', 0.13073), ('한국', 0.12829), ('블랙', 0.12626), ('아이', 0.12297), ('조지영', 0.12205)]\n","Topic 1: [('어벤져스', 0.3454), ('관객', 0.25261), ('누적', 0.22762), ('리포트', 0.16851), ('개봉', 0.15715), ('감독', 0.14351), ('동원', 0.14301), ('블랙', 0.1343), ('조지영', 0.12494), ('크리스', 0.11427)]\n","Topic 2: [('멸망', 0.59721), ('인류', 0.41976), ('보고서', 0.31907), ('로봇', 0.15972), ('김규리', 0.15339), ('김지운', 0.14768), ('임필', 0.13309), ('송새벽', 0.0908), ('리포트', 0.08329), ('시점', 0.07156)]\n"]}],"source":["\n","\n","terms = vectorizer.get_feature_names_out() \n","\n","\n","def get_topics(components, feature_names, n=10):\n","    for index, topic in enumerate(components):\n","        print(\"Topic %d:\" % (index), [(feature_names[i], topic[i].round(5)) for i in topic.argsort()[:-n-1:-1]])\n","\n","get_topics(svd_model.components_, terms)\n"]}],"metadata":{"colab":{"collapsed_sections":[],"name":"기사 내용 잠재의미 분석","provenance":[{"file_id":"1rkvKZgPX0htqUT8emOTs_02i6w9WIke9","timestamp":1655304559256}]},"kernelspec":{"display_name":"Python 3","language":"python","name":"python3"},"language_info":{"codemirror_mode":{"name":"ipython","version":3},"file_extension":".py","mimetype":"text/x-python","name":"python","nbconvert_exporter":"python","pygments_lexer":"ipython3","version":"3.7.6"}},"nbformat":4,"nbformat_minor":0}